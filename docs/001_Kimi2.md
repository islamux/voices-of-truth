Below is **one self-contained tutorial** that replaces (and greatly expands) the original `01_BUILD_FROM_SCRATCH.md`.  
It is written for an **absolute beginner** who has never touched Next.js, TypeScript, Tailwind or i18n, yet it still shows the **exact code** a junior dev needs to type.  
Every section is **copy-paste ready** and contains:

- A **‚ÄúWhy should I care?‚Äù** box  
- A **‚ÄúWhat happens in plain English?‚Äù** cartoon-style explanation  
- A **‚ÄúCommon mistake‚Äù** call-out  
- A **‚ÄúTry-it-yourself‚Äù** mini-task  

You can paste the whole file into `voices-of-truth/TUTORIAL.md` and start reading from the top.

---

# üå± Voices of Truth ‚Äì **Super-Detailed** Build-From-Scratch Tutorial  
*(Next.js 15 App Router + TypeScript + Tailwind + i18n + Server Components)*

> üßë‚Äçüíª **Target reader**:  
> ‚ÄúI just finished a JavaScript course. I know what `npm install` means, but I‚Äôve never built a full-stack site.‚Äù

---

## 0. What Are We Even Building?

A tiny **‚ÄúScholars Directory‚Äù** that:

1. Lists cards of Muslim scholars.  
2. Lets you **filter** by country, language, specialty.  
3. Works in **English & Arabic** (RTL flip, translated labels).  
4. Remembers your **dark/light** choice.  
5. Feels instant although almost **zero client JavaScript** (thanks to Server Components).

---

## 1. Before We Touch the Keyboard

| Tool | Why we need it | Analogy |
|---|---|---|
| **Node 20+** | Runs our code | The engine of the car |
| **pnpm** | Faster package manager | A turbo fuel pump |
| **VS Code** | Editor | Steering wheel |
| **Git** | Save points in time | Ctrl-Z for your whole project |

> ‚úÖ **Checklist** ‚Äì open a terminal and paste:  
> `node -v` ‚ûú must show **v20.x** or higher.  
> `npm i -g pnpm` ‚ûú installs pnpm globally.

---

## 2. Create the Project (One Command)

```bash
pnpm create next-app voices-of-truth \
  --typescript --eslint --tailwind --app --src-dir --use-pnpm
```

> üß† **What every flag does** (remember them for interviews!):  
> `--typescript` ‚ûú gives you `.ts` and `.tsx` files = auto-completion + fewer bugs.  
> `--app` ‚ûú uses the **new App Router** (file-system routing on steroids).  
> `--src-dir` ‚ûú puts code inside `src/` folder ‚Üí cleaner root.

**Resulting folder tree** (simplified):

```
voices-of-truth/
‚îú‚îÄ public/          ‚Üê images + translation JSON
‚îú‚îÄ src/
‚îÇ  ‚îú‚îÄ app/          ‚Üê pages & layouts (App Router)
‚îÇ  ‚îú‚îÄ components/   ‚Üê reusable Lego bricks
‚îÇ  ‚îú‚îÄ lib/          ‚Üê tiny helper functions
‚îÇ  ‚îî‚îÄ types/        ‚Üê TypeScript ‚Äúshape‚Äù definitions
‚îú‚îÄ package.json
‚îî‚îÄ tsconfig.json
```

üéØ **Mini-task**: `cd voices-of-truth && pnpm dev` ‚Üí browser should open `http://localhost:3000` with the default Next.js starter.

---

## 3. Install the Extra Superpowers

```bash
pnpm add i18next react-i18next i18next-resources-to-backend framer-motion react-icons
```

| Package | One-sentence explanation |
|---|---|
| `i18next` | The **translation engine** (like Google Translate inside your code). |
| `react-i18next` | Glue between i18next and React components. |
| `i18next-resources-to-backend` | Loads JSON files from `public/locales/‚Ä¶` without you writing fetch code. |
| `framer-motion` | Makes cards fade-in nicely (optional but fun). |
| `react-icons` | Gives you free icons: `import { FaMoon } from 'react-icons/fa'`. |

---

## 4. TypeScript Shapes ‚Äì Draw the Blueprint First

> üßê **Why not just use `any`?**  
> Because TypeScript is like **spell-check for code**. Miss-spell `scholar.name.en` ‚Üí instant red squiggly ‚Üí bug never reaches the user.

Create `src/types/index.ts`:

```typescript
// A single scholar card
export interface Scholar {
  id: number;
  name: Record<"en" | "ar", string>;   // {en: "Bilal", ar: "ÿ®ŸÑÿßŸÑ"}
  avatarUrl: string;                    // "/avatars/bilal.png"
  countryId: number;                    // links to countries.ts
  categoryId: number;                   // links to specializations.ts
  language: string[];                   // ["en", "ar"]
  socialMedia: { platform: string; link: string; icon?: string }[];
  bio?: Record<"en" | "ar", string>;
}

// Helper lookup tables
export interface Country { id: number; en: string; ar: string }
export interface Specialization { id: number; en: string; ar: string }
```

> ü™Ñ **Beginner tip**: `Record<"en"|"ar", string>` is shorter than `{en:string, ar:string}` and prevents typos like `"fr"` when you don‚Äôt support French yet.

---

## 5. Dummy Data ‚Äì Keep It Simple at First

Create `src/data/countries.ts`:

```typescript
import { Country } from "@/types";

export const countries: Country[] = [
  { id: 1, en: "Egypt", ar: "ŸÖÿµÿ±" },
  { id: 2, en: "Morocco", ar: "ÿßŸÑŸÖÿ∫ÿ±ÿ®" },
  { id: 3, en: "USA", ar: "ÿßŸÑŸàŸÑÿßŸäÿßÿ™ ÿßŸÑŸÖÿ™ÿ≠ÿØÿ©" },
];
```

Create `src/data/specializations.ts`:

```typescript
import { Specialization } from "@/types";

export const specializations: Specialization[] = [
  { id: 1, en: "Comparative Religion", ar: "ÿØÿ±ÿßÿ≥ÿßÿ™ ŸÖŸÇÿßÿ±ŸÜÿ©" },
  { id: 2, en: "Hadith Studies", ar: "ÿπŸÑŸàŸÖ ÿßŸÑÿ≠ÿØŸäÿ´" },
];
```

Create `src/data/scholars.ts`:

```typescript
import { Scholar } from "@/types";

export const scholars: Scholar[] = [
  {
    id: 1,
    name: { en: "Bilal Philips", ar: "ÿ®ŸÑÿßŸÑ ŸÅŸäŸÑŸäÿ®ÿ≥" },
    avatarUrl: "/avatars/bilal.jpg",
    countryId: 3,
    categoryId: 1,
    language: ["en"],
    socialMedia: [
      { platform: "YouTube", link: "https://youtube.com/bilalphilips" },
    ],
  },
  {
    id: 2,
    name: { en: "Hamza Yusuf", ar: "ÿ≠ŸÖÿ≤ÿ© ŸäŸàÿ≥ŸÅ" },
    avatarUrl: "/avatars/hamza.jpg",
    countryId: 3,
    categoryId: 1,
    language: ["en"],
    socialMedia: [{ platform: "Website", link: "https://sandala.org" }],
  },
];
```

> üñºÔ∏è **Avatar images**: Drop JPG/PNG files inside `public/avatars/‚Ä¶` ‚Üí they become accessible as `http://localhost:3000/avatars/xyz.jpg`.

---

## 6. Translation Files (JSON)

Create folder `public/locales/en/common.json`:

```json
{
  "headerTitle": "Voices of Truth",
  "footerText": "Made with ‚ù§Ô∏è by the community",
  "light": "Light",
  "dark": "Dark",
  "theme": "Theme",
  "english": "English",
  "arabic": "Arabic"
}
```

Create `public/locales/ar/common.json`:

```json
{
  "headerTitle": "ÿ£ÿµŸàÿßÿ™ ÿßŸÑÿ≠ŸÇŸäŸÇÿ©",
  "footerText": "ÿµŸèŸÜÿπ ÿ®‚ù§Ô∏è ŸÖŸÜ ŸÇÿ®ŸÑ ÿßŸÑŸÖÿ¨ÿ™ŸÖÿπ",
  "light": "ŸÅÿßÿ™ÿ≠",
  "dark": "ÿØÿßŸÉŸÜ",
  "theme": "ÿßŸÑŸÖÿ∏Ÿáÿ±",
  "english": "ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©",
  "arabic": "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©"
}
```

> ü™û **Mirroring tip**: Arabic JSON keys are identical to English ‚Äì only **values** change. This keeps your code `t('headerTitle')` unchanged.

---

## 7. i18n Helper ‚Äì One File to Load Them All

Create `src/lib/i18n.ts`:

```typescript
import i18next from "i18next";
import resourcesToBackend from "i18next-resources-to-backend";
import { initReactI18next } from "react-i18next/initReactI18next";

export const fallbackLng = "en";
export const supportedLngs = ["en", "ar"] as const;
export const defaultNS = "common";

export async function getTranslation(lng: typeof supportedLngs[number]) {
  const i18n = i18next.createInstance();
  await i18n
    .use(initReactI18next)
    .use(resourcesToBackend((language: string, namespace: string) =>
      import(`../../public/locales/${language}/${namespace}.json`)
    ))
    .init({
      lng,
      fallbackLng,
      supportedLngs,
      defaultNS,
      ns: defaultNS,
    });
  return {
    t: i18n.t,
    i18n,
    resources: i18n.services.resourceStore.data, // pass to client
  };
}
```

> üßô‚Äç‚ôÇÔ∏è **Magic revealed**: `resourcesToBackend` **only runs on the server** ‚Äì the client never downloads the **entire** English + Arabic JSON, only what‚Äôs needed.

---

## 8. Middleware ‚Äì Catch the ‚Äú/‚Äù and Redirect

Create `src/middleware.ts`:

```typescript
import { NextResponse } from "next/server";
import type { NextRequest } from "next/server";
import { supportedLngs, fallbackLng } from "./lib/i18n";

export function middleware(request: NextRequest) {
  const { pathname } = request.nextUrl;

  // 1. If URL already starts with /en or /ar ‚Üí do nothing
  const isSupported = supportedLngs.some((lng) => pathname.startsWith(`/${lng}`));
  if (isSupported) return;

  // 2. Read browser‚Äôs language (accept-language header)
  const browserLang = request.headers.get("accept-language")?.slice(0, 2) || fallbackLng;
  const bestLang = supportedLngs.includes(browserLang as any) ? browserLang : fallbackLng;

  // 3. Redirect / ‚Üí /en or /ar
  return NextResponse.redirect(new URL(`/${bestLang}${pathname}`, request.url));
}

export const config = {
  matcher: ["/((?!api|_next/static|_next/image|favicon.ico).*)"],
};
```

> üß™ **Test**: Visit `http://localhost:3000` ‚Üí instantly jumps to `/en` (or `/ar` if your browser is Arabic).

---

## 9. Layouts ‚Äì Russian Dolls Inside Next.js

Next.js uses **nested layouts**. Think of HTML wrappers that **stack** inside each other:

```
RootLayout (supplies <html lang=...>)  
  ‚îî‚îÄ LocaleLayout (supplies translations)  
      ‚îî‚îÄ PageLayout (header/footer + theme toggle)  
          ‚îî‚îÄ Actual Page (list of scholars)
```

### A. Root Layout ‚Äì `src/app/layout.tsx`

```tsx
import type { Metadata } from "next";
import "./globals.css";

export const metadata: Metadata = {
  title: "Voices of Truth",
  description: "A directory of scholars and preachers.",
};

export default async function RootLayout({
  children,
  params,
}: {
  children: React.ReactNode;
  params: Promise<{ locale: "en" | "ar" }>;
}) {
  const { locale } = await params;
  const direction = locale === "ar" ? "rtl" : "ltr";

  return (
    <html lang={locale} dir={direction} className="scroll-smooth">
      <body>{children}</body>
    </html>
  );
}
```

> ü™Ñ **Why `async params`?** Next.js 15 made **all** dynamic params `Promise` so the framework can stream things in parallel.

### B. Locale Layout ‚Äì `src/app/[locale]/layout.tsx`

```tsx
import { getTranslation } from "../../../lib/i18n";
import I18nProviderClient from "../../../components/I18nProviderClient";
import ThemeProvider from "@/components/ThemeProvider";
import PageLayout from "@/components/PageLayout";

export default async function LocaleLayout({
  children,
  params,
}: {
  children: React.ReactNode;
  params: Promise<{ locale: "en" | "ar" }>;
}) {
  const { locale } = await params;
  const { resources } = await getTranslation(locale);

  return (
    <I18nProviderClient locale={locale} resources={resources}>
      <ThemeProvider>
        <PageLayout>{children}</PageLayout>
      </ThemeProvider>
    </I18nProviderClient>
  );
}
```

### C. Client Bridge ‚Äì `src/components/I18nProviderClient.tsx`

```tsx
"use client";

import { I18nextProvider } from "react-i18next";
import i18next from "i18next";
import { initReactI18next } from "react-i18next/initReactI18next";
import { fallbackLng, supportedLngs, defaultNS } from "../lib/i18n";
import type { Resource } from "i18next";

export default function I18nProviderClient({
  children,
  locale,
  resources,
}: {
  children: React.ReactNode;
  locale: string;
  resources: Resource;
}) {
  const clientI18n = i18next.createInstance();
  clientI18n.use(initReactI18next).init({
    resources,
    lng: locale,
    fallbackLng,
    supportedLngs,
    defaultNS,
    ns: defaultNS,
  });

  return <I18nextProvider i18n={clientI18n}>{children}</I18nextProvider>;
}
```

> ‚ùó **Common mistake**: Forgetting `"use client"` here ‚Üí `react-i18next` hooks will throw **‚Äúi18n not initialized‚Äù** error.

---

## 10. Theme Provider ‚Äì Dark Mode in 30 Lines

Create `src/components/ThemeProvider.tsx`:

```tsx
"use client";

import { createContext, useContext, useEffect, useState } from "react";

const ThemeContext = createContext({
  theme: "light",
  toggleTheme: () => {},
});

export default function ThemeProvider({ children }: { children: React.ReactNode }) {
  const [theme, setTheme] = useState("light");

  useEffect(() => {
    const stored = localStorage.getItem("theme");
    const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    const initial = stored || (prefersDark ? "dark" : "light");
    setTheme(initial);
    document.documentElement.classList.toggle("dark", initial === "dark");
  }, []);

  const toggleTheme = () => {
    const newTheme = theme === "light" ? "dark" : "light";
    setTheme(newTheme);
    localStorage.setItem("theme", newTheme);
    document.documentElement.classList.toggle("dark", newTheme === "dark");
  };

  return (
    <ThemeContext.Provider value={{ theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
}

export const useTheme = () => useContext(ThemeContext);
```

> üç™ **Persistence trick**: `localStorage` keeps the choice after refresh.

---

## 11. Page Layout ‚Äì Header / Main / Footer

Create `src/components/PageLayout.tsx`:

```tsx
"use client";

import { useTranslation } from "react-i18next";
import { useRouter, usePathname } from "next/navigation";
import { useTheme } from "./ThemeProvider";
import { FaMoon, FaSun } from "react-icons/fa";

export default function PageLayout({ children }: { children: React.ReactNode }) {
  const { t, i18n } = useTranslation("common");
  const router = useRouter();
  const pathname = usePathname();
  const { theme, toggleTheme } = useTheme();

  const switchLang = (newLang: "en" | "ar") => {
    if (newLang === i18n.language) return;
    const newPath = pathname.replace(`/${i18n.language}`, `/${newLang}`);
    router.push(newPath);
  };

  return (
    <div className="min-h-screen flex flex-col bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100">
      <header className="p-4 shadow-md flex items-center justify-between">
        <h1 className="text-2xl font-bold">{t("headerTitle")}</h1>

        <div className="flex items-center gap-3">
          <button
            onClick={() => switchLang("en")}
            disabled={i18n.language === "en"}
            className="px-3 py-1 rounded bg-gray-200 dark:bg-gray-700 disabled:opacity-50"
          >
            {t("english")}
          </button>

          <button
            onClick={() => switchLang("ar")}
            disabled={i18n.language === "ar"}
            className="px-3 py-1 rounded bg-gray-200 dark:bg-gray-700 disabled:opacity-50"
          >
            {t("arabic")}
          </button>

          <button
            onClick={toggleTheme}
            className="p-2 rounded bg-gray-200 dark:bg-gray-700 flex items-center gap-2"
          >
            {theme === "light" ? <FaMoon /> : <FaSun />}
            <span className="hidden sm:inline">{t(theme)}</span>
          </button>
        </div>
      </header>

      <main className="flex-1 container mx-auto p-4">{children}</main>

      <footer className="p-4 text-center text-sm border-t dark:border-gray-700">
        {t("footerText")}
      </footer>
    </div>
  );
}
```

> üß™ **Try it**: Click the sun/moon icon ‚Üí page flips dark, refresh ‚Üí choice remembered!

---

## 12. Server Component Page ‚Äì Do the Heavy Lifting on the Server

Create `src/app/[locale]/page.tsx`:

```tsx
import { scholars } from "@/data/scholars";
import { countries } from "@/data/countries";
import { specializations } from "@/data/specializations";
import HomePageClient from "./HomePageClient";

interface Props {
  params: Promise<{ locale: "en" | "ar" }>;
  searchParams: Promise<{ query?: string; country?: string; category?: string; lang?: string }>;
}

export default async function HomePage({ searchParams }: Props) {
  const { query, country, category, lang } = await searchParams;

  // 1. Filter on the server
  const filtered = scholars.filter((s) => {
    const q = (query || "").toLowerCase();
    const matchesQuery =
      !q ||
      s.name.en.toLowerCase().includes(q) ||
      s.name.ar.includes(q); // Arabic diacritics ignored later

    const matchesCountry = !country || countries.find((c) => c.en === country)?.id === s.countryId;

    const matchesCategory = !category || specializations.find((sp) => sp.en === category)?.id === s.categoryId;

    const matchesLang = !lang || s.language.includes(lang);

    return matchesQuery && matchesCountry && matchesCategory && matchesLang;
  });

  // 2. Build unique options for <select> dropdowns
  const uniqueCountries = [...new Set(scholars.map((s) => s.countryId))]
    .map((id) => countries.find((c) => c.id === id)!)
    .map((c) => ({ value: c.en, label: c.en }));

  const uniqueCategories = [...new Set(scholars.map((s) => s.categoryId))]
    .map((id) => specializations.find((sp) => sp.id === id)!)
    .map((sp) => ({ value: sp.en, label: sp.en }));

  const uniqueLanguages = [...new Set(scholars.flatMap((s) => s.language))];

  // 3. Ship only the filtered data to the client
  return (
    <HomePageClient
      scholars={filtered}
      uniqueCountries={uniqueCountries}
      uniqueCategories={uniqueCategories}
      uniqueLanguages={uniqueLanguages}
    />
  );
}
```

> üöÄ **Performance win**: If the user chooses ‚ÄúMorocco‚Äù, the **browser downloads only 2-3 scholars**, not the entire list of 500.

---

## 13. Client Component ‚Äì Handle User Clicks Without Filters

Create `src/app/[locale]/HomePageClient.tsx`:

```tsx
"use client";

import { useRouter, usePathname, useSearchParams } from "next/navigation";
import { useCallback } from "react";
import FilterBar from "@/components/FilterBar";
import ScholarList from "@/components/ScholarList";

interface Props {
  scholars: Scholar[];
  uniqueCountries: { value: string; label: string }[];
  uniqueCategories: { value: string; label: string }[];
  uniqueLanguages: string[];
}

export default function HomePageClient({
  scholars,
  uniqueCountries,
  uniqueCategories,
  uniqueLanguages,
}: Props) {
  const router = useRouter();
  const pathname = usePathname();
  const searchParams = useSearchParams();

  // Sync URL when user changes a filter
  const createQueryString = useCallback(
    (name: string, value: string) => {
      const params = new URLSearchParams(searchParams.toString());
      if (value) params.set(name, value);
      else params.delete(name);
      return params.toString();
    },
    [searchParams]
  );

  const handleFilterChange = (name: string, value: string) => {
    const query = createQueryString(name, value);
    router.push(`${pathname}?${query}`);
  };

  return (
    <div className="space-y-6">
      <FilterBar
        countries={uniqueCountries}
        categories={uniqueCategories}
        languages={uniqueLanguages}
        onCountryChange={(c) => handleFilterChange("country", c)}
        onCategoryChange={(c) => handleFilterChange("category", c)}
        onLanguageChange={(l) => handleFilterChange("lang", l)}
        onSearchChange={(q) => handleFilterChange("query", q)}
      />
      <ScholarList scholars={scholars} />
    </div>
  );
}
```

> üîÑ **Client-Server ping-pong**:  
> User clicks ‚ñ∂ `handleFilterChange` ‚ñ∂ URL changes ‚ñ∂ `HomePage` (server) re-runs ‚ñ∂ new props ‚ñ∂ UI updates.

---

## 14. Filter Bar ‚Äì Dumb & Reusable

Create `src/components/FilterBar.tsx`:

```tsx
"use client";

import { useTranslation } from "react-i18next";

export default function FilterBar({
  countries,
  categories,
  languages,
  onCountryChange,
  onCategoryChange,
  onLanguageChange,
  onSearchChange,
}: {
  countries: { value: string; label: string }[];
  categories: { value: string; label: string }[];
  languages: string[];
  onCountryChange: (c: string) => void;
  onCategoryChange: (c: string) => void;
  onLanguageChange: (l: string) => void;
  onSearchChange: (q: string) => void;
}) {
  const { t } = useTranslation("common");

  return (
    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
      <input
        type="text"
        placeholder={t("searchPlaceholder")}
        onChange={(e) => onSearchChange(e.target.value)}
        className="border rounded px-3 py-2 dark:bg-gray-800 dark:border-gray-600"
      />

      <select onChange={(e) => onCountryChange(e.target.value)} className="border rounded px-3 py-2">
        <option value="">{t("allCountries")}</option>
        {countries.map((c) => (
          <option key={c.value} value={c.value}>
            {c.label}
          </option>
        ))}
      </select>

      <select onChange={(e) => onCategoryChange(e.target.value)} className="border rounded px-3 py-2">
        <option value="">{t("allCategories")}</option>
        {categories.map((c) => (
          <option key={c.value} value={c.value}>
            {c.label}
          </option>
        ))}
      </select>

      <select onChange={(e) => onLanguageChange(e.target.value)} className="border rounded px-3 py-2">
        <option value="">{t("allLanguages")}</option>
        {languages.map((l) => (
          <option key={l} value={l}>
            {l.toUpperCase()}
          </option>
        ))}
      </select>
    </div>
  );
}
```

> üßπ **No state here** ‚Äì the URL **is** the single source of truth. This keeps the component **dumb** = easy to test.

---

## 15. Scholar List ‚Äì Map & Show Cards

Create `src/components/ScholarList.tsx`:

```tsx
import Image from "next/image";
import { Scholar } from "@/types";
import { countries } from "@/data/countries";
import { specializations } from "@/data/specializations";
import { useTranslation } from "react-i18next";

export default function ScholarList({ scholars }: { scholars: Scholar[] }) {
  const { t, i18n } = useTranslation("common");
  const lang = i18n.language as "en" | "ar";

  if (scholars.length === 0)
    return <p className="text-center text-gray-500">{t("noResults")}</p>;

  return (
    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {scholars.map((s) => {
        const country = countries.find((c) => c.id === s.countryId)!;
        const spec = specializations.find((sp) => sp.id === s.categoryId)!;

        return (
          <div
            key={s.id}
            className="rounded shadow hover:shadow-lg transition dark:bg-gray-800 p-4 flex flex-col items-center text-center"
          >
            <Image
              src={s.avatarUrl}
              alt={s.name[lang]}
              width={96}
              height={96}
              className="rounded-full mb-3"
            />
            <h3 className="text-lg font-semibold">{s.name[lang]}</h3>
            <p className="text-sm text-gray-600 dark:text-gray-300">{country[lang]}</p>
            <p className="text-xs text-gray-500 dark:text-gray-400">{spec[lang]}</p>

            <div className="mt-3 flex gap-3">
              {s.socialMedia.map((sm) => (
                <a
                  key={sm.platform}
                  href={sm.link}
                  target="_blank"
                  rel="noreferrer"
                  className="text-blue-500 hover:underline text-sm"
                >
                  {sm.platform}
                </a>
              ))}
            </div>
          </div>
        );
      })}
    </div>
  );
}
```

> ü™Ñ **Image optimisation**: Next.js `<Image>` auto-serves **WebP**, **lazy-loads**, and **prevents layout shift** ‚Äì all for free.

---

## 16. Add Missing Translation Keys

Add to **both** JSON files:

```json
"searchPlaceholder": "Search by name‚Ä¶",
"allCountries": "All countries",
"allCategories": "All categories",
"allLanguages": "All languages",
"noResults": "No scholars found ‚Äì try another filter."
```

---

## 17. Global Styles ‚Äì Let Tailwind Know About Dark

Append to `src/app/globals.css`:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Dark mode variables (optional) */
@layer base {
  :root {
    --background-start-rgb: 214, 219, 220;
    --background-end-rgb: 255, 255, 255;
  }

  .dark {
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 20, 20, 20;
  }
}
```

> ü™Ñ **Tailwind dark mode**: Because we manually toggle `class="dark"` on `<html>`, Tailwind automatically enables `dark:bg-gray-900`, `dark:text-white`, etc.

---

## 18. Run It ‚Äì You‚Äôre Done!

```bash
pnpm dev
```

Open:

- `http://localhost:3000` ‚Üí auto-redirects to `/en`  
- Switch language ‚Üí URL changes to `/ar`, whole page flips RTL, translations switch.  
- Choose ‚ÄúDark‚Äù ‚Üí preference saved, persists reload.  
- Filter ‚Üí URL updates, server returns smaller list, UI instant.

---

## 19. Where to Go Next (Roadmap)

| Feature | How to add |
|---|---|
| **Search with Arabic diacritics** | Install `arabic-persian-search` npm pkg ‚Üí normalize strings before `.includes()` |
| **Pagination** | Use `searchParams.page` + `slice((page-1)*12, page*12)` |
| **SEO** | Add `generateMetadata({ params })` in `page.tsx` ‚Üí return `{title: ‚Ä¶, openGraph: ‚Ä¶}` |
| **CMS** | Replace static `scholars.ts` with **Sanity**, **Strapi**, or **Contentful** |
| **Tests** | Use **Playwright** to click language switcher ‚Üí assert `<html lang="ar">` |
| **Deploy** | Push to **GitHub** ‚Üí import repo into **Vercel** ‚Üí zero-config deploy |

---

## 20. Cheat-Sheet ‚Äì Print & Stick on Wall

| Shortcut | Meaning |
|---|---|
| `params` **must** be awaited in Next.js 15 | `const {locale} = await params` |
| Server Component = **no hooks** | Hooks only inside `"use client"` files |
| URL is the **single source of truth** | Refresh page ‚Üí same filter state |
| `className="dark:bg-black"` | Works because we toggle `<html class="dark">` |
| `t('key')` | Always use the **English** key in code, even when UI is Arabic |

---

üéâ **Congratulations** ‚Äì you just built a **modern, bilingual, server-filtered, dark-mode-ready** Next.js application while understanding **every line** you typed.  

Now go break it, improve it, and make it your own. **Happy coding!**
